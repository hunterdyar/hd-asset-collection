{{ define "main" -}}
<div>
  <h1>{{ .Title }}</h1>
</div>

<!-- Todo: If page.param view is grid, or page.param view is list, then do normal ul li list.-->

{{ if eq (.Param "view") "grid" }}

<div class="grid-list">
  {{ range $page := .Paginator.Pages -}}
  <div class="grid-item">
    {{with .Param "preview"}}
    {{ $image := resources.GetMatch . }}
    {{ with $image }}
    {{ $image := $image.Fit "250x250" }}
    <a href="{{ $page.RelPermalink }}">
      <img src="{{ $image.RelPermalink }}" width="{{ $image.Width }}" height="{{ $image.Height }}" class="preview">
    </a>
      {{ end }}
    {{ end }}
    <p style="text-align: center">
     <a href="{{ $page.RelPermalink }}">{{ $page.Title }}</a>
    </p>
  </div>
  {{ end -}}
</div>

{{ else }}

<ul class="list">
  {{ range $page := .Paginator.Pages -}}
  <li class="grid-item">
     <a href="{{ $page.RelPermalink }}">{{ $page.Title }}</a>
  </li>
  {{ end -}}
</ul>

{{ end }}

{{ template "_internal/pagination.html" . -}}
{{ end -}}
